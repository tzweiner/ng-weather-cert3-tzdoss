<app-tab [items]="items">
    <ng-template let-tab #tabs>
        <div class="tab" [ngClass]="{ 'is-tab-selected': tab.active }" (click)="activateTab(tab)">
            {{tab.data.name}} ({{tab.zip}})
            <span class="close" (click)="removeTab(tab)">&times;</span>
        </div>
    </ng-template>
</app-tab>
<app-tab-panel [items]="items">
    <ng-template let-tabPanel #tabPanels>
        <div class="tabsPanel" [ngClass]="{ 'show': tabPanel.active }">
            <div class="flex well">
                <div>
                    <h3>{{tabPanel.data.name}} ({{tabPanel.zip}})</h3>
                    <h4>Current conditions: {{tabPanel.data.weather[0].main}}</h4>
                    <h4>Temperatures today:</h4>
                    <p>
                        Current {{tabPanel.data.main.temp | number:'.0-0'}}
                        - Max {{tabPanel.data.main.temp_max | number:'.0-0'}}
                        - Min {{tabPanel.data.main.temp_min | number:'.0-0'}}
                    </p>
                    <p>
                        <a [routerLink]="['/forecast', tabPanel.zip]" >Show 5-day forecast for {{tabPanel.data.name}}</a>
                    </p>
                    <p>This weather card and its 5-day forecast are updated every <span class="highlight-container"><span class="highlight">{{ getZipcodeRefreshInterval(tabPanel.zip).name }}</span></span></p>
                </div>
                <div>
                    <img [src]="weatherService.getWeatherIcon(tabPanel.data.weather[0].id)" alt="weather image">
                </div>
            </div>
        </div>
    </ng-template>
</app-tab-panel>


